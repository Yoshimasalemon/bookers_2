<% if @book.errors.any? %>
    <div class = "alert alert-warning">
      <h3><%= @book.errors.count %> errors prohibited this obj from being saved</h3>
        <ul>
            <% @book.errors.full_messages.each do |message| %>
                <li><%= message %></li>
            <% end %>
        </ul>
    </div>
<% end %>

    <% if flash[:notice] %>
      <div class="flash">
        <%= flash[:notice] %>
      </div>
    <% end %>


 <div class="container">
  <div class="row">
<div class= "col-3">

  <h2>User info</h2>
<table class="table">
  <thead>

     <tr>
      <%= attachment_image_tag @user, :profile_image, :fill, 100, 100, format: 'jpeg', fallback: "no_image.jpg", size:'60x60' %>
    </tr>
  </thead>
  <tbody>

    <tr>
      <th>Name</th>
      <th><%= @user.name %></th>
    </tr>
    <tr>
      <th>Introduction</th>
      <th><%= @user.introduction %></th>
    </tr>
    </tbody>
</table>

<%= link_to edit_user_path(@user), method: :get do %>
<i class="fas fa-user-cog"></i>
<% end %>

<div>

<h1>New book</h1>
<%= form_with model: @book, local: true  do |f|  %>

  <%= f.label :Title %>
  <%= f.text_field :title %>

  <%= f.label :Opinion %>
  <%= f.text_field :body %>

  <%= f.submit "Create Book" %>
<% end %>

</div>
</div>


<div class="col-9">

      <h1>Users</h1>

    <table class="table">
  <thead>
    <tr>
      <th scope="col">image</th>
      <th scope="col">name</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
     <% @users.each do |t| %>
    <tr>

      <th scope="row"><%= attachment_image_tag t, :profile_image, :fill, 60, 60, format: 'jpeg', fallback: "no_image.jpg", size:'60x60' %></th>
 <td><%= t.name %></td>
              <td><%= link_to "Show", user_path(t.id) %></td>
    </tr>
    <% end %>
  </tbody>
</table>
</div>
</div>
</div>